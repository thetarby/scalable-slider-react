(this["webpackJsonpscalable-slider-react-example"]=this["webpackJsonpscalable-slider-react-example"]||[]).push([[0],{24:function(t,e,i){t.exports=i(33)},25:function(t,e,i){},32:function(t,e,i){},33:function(t,e,i){"use strict";i.r(e);i(25);var a=i(1),n=i.n(a),s=i(14),r=i.n(s),o=i(10),l=i(0),c="_3ybTi";function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}).apply(this,arguments)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p=function(t){var e,i;function a(e){var i;return(i=t.call(this)||this).state={count:0,zoomceil:0,zoomfloor:0},i.config=h({margin:{left:20,right:20},width:1e3,height:90,step:1},e.config),i.componentDidMount=i.componentDidMount.bind(d(i)),i.componentDidUpdate=i.componentDidUpdate.bind(d(i)),i.dragged=i.dragged.bind(d(i)),i.handleResize=i.handleResize.bind(d(i)),i.handleReset=i.handleReset.bind(d(i)),i}i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=a.prototype;return s.updateDOMSlider=function(t){console.log("updateDOM");var e=this.xScale(t);this.handle.attr("cx",e),this.handleText.attr("x",e).text(this.props.d3slider.value)},s.handleResize=function(t){console.log("res");var e=this.config.margin,i=t,a=this.config.height,n=[this.state.zoomfloor,this.state.zoomceil],s=this.config.step;console.log("range: "+n),this.step=s;var r=this.container.select("svg").transition().attr("width",i).attr("height",a).select("g").transition().attr("transform","translate("+e.left+", "+a/2+")");this.xScale=Object(l.f)().domain(n).range([0,i-e.left-e.right]).clamp(!0);var o=this.xScale;if(this.rangeValues=Object(l.e)(n[0],n[1],s||1).concat(n[1]),this.config.tickCount){var c=this.config.tickCount*(n[1]-n[0])/(this.props.d3slider.options.ceil-this.props.d3slider.options.floor),h=Object(l.h)(n[0],n[1],c),d=Object(l.a)(o).tickValues(h).tickFormat((function(t){return""}));r.select("g").attr("class","ticks").attr("transform","translate(0, 4)").call(d)}o.clamp(!0);var p=this;Object(l.b)().on("start.interrupt",(function(){r.interrupt()})).on("start drag",(function(){p.dragged(l.c.x)}));r.select(".track").attr("class","track").transition().attr("x1",o.range()[0]).attr("x2",o.range()[1]),r.selectAll("image").style("visibility",(function(t){return t<p.state.zoomfloor||t>p.state.zoomceil?"hidden":"visible"})).attr("x",(function(t){return o(t)-7.5})),r.select(".track-inset").transition().attr("x1",o.range()[0]).attr("x2",o.range()[1]),r.select(".track-overlay").transition().attr("x1",o.range()[0]).attr("x2",o.range()[1])},s.dragged=function(t){var e,i=this.xScale.invert(t),a=null,n=this.rangeValues;if(this.step){for(var s=0;s<n.length-1;s++)if(i>=n[s]&&i<=n[s+1]){a=s;break}i<(n[a]+n[a+1])/2?(this.xScale(n[a]),e=n[a]):(this.xScale(n[a+1]),e=n[a+1])}else this.xScale(i),e=i.toFixed(3);this.props.handleChange(e)},s.handleReset=function(){this.setState({zoomfloor:this.props.d3slider.options.floor,zoomceil:this.props.d3slider.options.ceil})},s.attachImages=function(t,e){var i=this;t.selectAll("items").data(e.locations).enter().append("image").attr("href",e.src).style("width","15").style("height","20").attr("x",(function(t){return i.xScale(t)-7.5})).attr("y","-30px")},s.componentDidMount=function(){var t=this;console.log("mouont"),this.container=Object(l.g)("#d3slider-"+this.props.slider_id),this.props.fluid&&window.addEventListener("resize",(function(){return t.handleResize(+t.container.style("width").slice(0,-2))}));var e=this.config.margin,i=this.container.style("width").slice(0,-2),a=this.config.height,n=[this.state.zoomfloor,this.state.zoomceil],s=this.config.step;console.log(n),this.step=s;var r=this;this.step=s;var o=this.container.append("svg").attr("width",i).attr("height",a);this.xScale=Object(l.f)().domain(n).range([0,i-e.left-e.right]).clamp(!0);var c=this.xScale;o.call(Object(l.b)().on("start",(function(t){r.dragStartx=l.c.x,r.dragStarty=l.c.y,Object(l.g)(this).select(".rect").remove(),Object(l.g)(this).append("rect").attr("class","rect")})).on("drag",(function(t){Object(l.g)(this).select(".rect").attr("x",r.dragStartx).attr("y",Object(l.d)([r.dragStarty,l.c.y])).attr("height",Math.abs(l.c.y-r.dragStarty)).attr("width",l.c.x-r.dragStartx).attr("fill","black").style("opacity","0.3")})).on("end",(function(t){Object(l.g)(this).select(".rect").remove(),r.dragFinishx=l.c.x,r.dragFinishx-r.dragStartx<10||(r.setState({zoomceil:Math.ceil(r.xScale.invert(r.dragFinishx-e.left)),zoomfloor:Math.floor(r.xScale.invert(r.dragStartx-e.left))}),console.log(r.state.zoomfloor,r.state.zoomceil))})));var h=o.append("g").attr("slider",!0).attr("transform","translate("+e.left+", "+a/2+")");h.on("dblclick",(function(){t.handleReset()})),c.clamp(!0);var d=Object(l.b)().on("start.interrupt",(function(){h.interrupt()})).on("start drag",(function(){r.dragged(l.c.x)})),p=h.append("line").attr("class","track").attr("x1",c.range()[0]).attr("x2",c.range()[1]);this.props.items.forEach((function(e){return t.attachImages(h,e)}));Object(l.g)(h.node().appendChild(p.node().cloneNode())).attr("class","track-inset");if(this.rangeValues=Object(l.e)(n[0],n[1],s||1).concat(n[1]),this.config.tickCount){var g=this.config.tickCount,u=Object(l.h)(n[0],n[1],g),f=Object(l.a)(c).tickValues(u).tickFormat((function(t){return""}));h.append("g").attr("class","ticks").attr("transform","translate(0, 4)").call(f)}this.handle=h.append("circle").classed("handle",!0).attr("r",8),this.handleText=h.append("text").style("text-anchor","middle").attr("y","-10px").text(n[0]);Object(l.g)(h.node().appendChild(p.node().cloneNode())).attr("class","track-overlay").call(d);this.setState({zoomceil:this.props.d3slider.options.ceil,zoomfloor:this.props.d3slider.options.floor})},s.componentDidUpdate=function(){this.props.config.width?this.handleResize(this.props.config.width):this.props.fluid&&this.handleResize(+this.container.style("width").slice(0,-2)),this.updateDOMSlider(this.props.d3slider.value)},s.render=function(){return n.a.createElement("div",null,n.a.createElement("div",{class:"d3slider",id:"d3slider-"+this.props.slider_id}))},a}(n.a.Component),g=function(t){var e=t.text;return n.a.createElement("div",{className:c},e)};i(32);class u extends n.a.Component{constructor(){super(),this.state={slider:{value:5,options:{ceil:100,floor:0}},items:[{src:"https://www1.bac-assets.com/homepage/spa-assets/images/assets-images-site-homepage-icons-contact_icon_locations_red-CSX54c6594a.svg",locations:[22,29,36,25]},{src:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Yellow_card.svg",locations:[2,5,14,24]}]},this.handleClick=this.handleClick.bind(this),this.handleChange=this.handleChange.bind(this)}handleClick(){var t=Object(o.a)({},this.state);t.slider.value++,this.setState({state:t})}handleChange(t){this.setState({slider:Object(o.a)({},this.state.slider,{value:t})})}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{text:"SLIDER IT IS \ud83d\ude04"}),n.a.createElement("p",null,"Double click on slider when you want to scale to default"),n.a.createElement("p",null,"slider value:",this.state.slider.value),n.a.createElement(p,{slider_id:1,config:{height:90},fluid:!0,items:this.state.items,d3slider:this.state.slider,handleChange:this.handleChange}),n.a.createElement("button",{onClick:this.handleClick},"increment"),n.a.createElement(p,{slider_id:2,config:{height:90,tickCount:100},fluid:!0,items:this.state.items,d3slider:this.state.slider,handleChange:this.handleChange}),n.a.createElement("button",{onClick:this.handleClick},"increment"),n.a.createElement("p",null,"This is a fixed size slider unlike above ones it does not change its width when window resizes"),n.a.createElement(p,{slider_id:3,config:{width:500,height:90,tickCount:100},items:this.state.items,d3slider:this.state.slider,handleChange:this.handleChange}),n.a.createElement("button",{onClick:this.handleClick},"increment"))}}var f=u;r.a.render(n.a.createElement(f,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.8a1cd4ae.chunk.js.map